function luckBalance(k, contests) {
  let important = [];
  let total = 0;
  let ele;
  for (ele of contests) {
    if (ele[1] === 1) {
      important.push(ele);
    } else {
      total += ele[0];
    }
  }
  important = important.sort(function (a, b) { return b[0] - a[0] });
  
  // important[i] is checked incase 'k' is greater than imporant.length to
  // preserve correct 'i' value for next for loop
  let i = 0;
  for (; important[i] && k > 0; k-- , i++) {
    total += important[i][0];
  }
  for (; i < important.length; i++) {
    total -= important[i][0];
  }
  return total;
}

let k = 58;
let contests = [
  [105, 0],
  [103, 0],
  [106, 1],
  [106, 1],
  [103, 0],
  [103, 1],
  [105, 1],
  [106, 1],
  [105, 0],
  [104, 0],
  [103, 0],
  [102, 0],
  [104, 0],
  [105, 0],
  [104, 0],
  [102, 1],
  [104, 0],
  [106, 1],
  [104, 1],
  [101, 1],
  [105, 0],
  [103, 0],
  [104, 0],
  [106, 0],
  [102, 1],
  [103, 0],
  [102, 0],
  [103, 1],
  [106, 0],
  [104, 1],
  [101, 1],
  [101, 1],
  [106, 0],
  [103, 1],
  [103, 0],
  [104, 1],
  [101, 0],
  [105, 1],
  [105, 0],
  [104, 1],
  [105, 0],
  [106, 0],
  [104, 0],
  [105, 0],
  [101, 1],
  [106, 1],
  [105, 0],
  [103, 0],
  [104, 1],
  [101, 1],
  [106, 1],
  [104, 0],
  [106, 1],
  [105, 0],
  [103, 1],
  [101, 0],
  [103, 0],
  [101, 0],
  [105, 1],
  [104, 1],
  [104, 1],
  [105, 1],
  [105, 1],
  [103, 0],
  [101, 0],
  [104, 1],
  [106, 1],
  [105, 1],
  [105, 0],
  [106, 1],
  [104, 1],
  [105, 1],
  [103, 1],
  [102, 1],
  [106, 0],
  [101, 0],
  [105, 1],
  [104, 1],
  [103, 1],
  [106, 1],
  [101, 0],
  [106, 1],
  [103, 0],
  [106, 1],
  [102, 1],
  [103, 0],
  [101, 1],
  [102, 1],
  [101, 1],
  [104, 0],
  [106, 0],
  [102, 0],
  [104, 0],
  [105, 0],
  [105, 0],
  [102, 1],
  [103, 1]
]

console.log(luckBalance(k, contests))